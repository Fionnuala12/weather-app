<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/911824e75d.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="styles/main.css">
    <title>Weather App</title>
</head>
<body>
    <div class="container">
        <div class="weather-app-wrapper">
        <div class="weather-app">
        
            <form id="search-form">
            <div class="row">
                <div class="col-6">
        <input type="text" placeholder="Enter city...." class="form-control mb-3" id="city-name">
                </div>
        <div class="col-6">
        <input type="submit" value="Search" class="btn btn-primary">
        <button class="btn btn-secondary" id="current-location-button"> Current Location </button>
        </div>
    </div>
    </form>
      <h1 id="city">
          Paris 
      </h1> 
      <h2 id="date"> 
          Monday, 11th Jan
      </h2> 
    
        <div class="row">
            <div class="col-6">
                <div class="clearfix">
                <img src="" alt="sun with cloud" id="icon" class="today-weather-img">
                <div class="main-weather">
                <span id="temperature" class="today-weather-temp">22</span><span id="units"><a href="#" id="celsius-link" class="active">째C</a> | <a href="#" id="fahrenheit-link" class="inactive">F째</a></span>
                <div id="description" class="text-capitalize">Sunny</div>
            </div>
            </div>
        </div>
            <div class="col-6"> 
                    <div class="container grid">
                        <div class="row row-cols-2">
                            <div class="col box">
                        <span id="humidity">97</span>%<div><i class="fas fa-tint"></i> Humidity</div>
                    </div>
                    <div class="col box">
                        <span id="wind">1</span> kmh <div><i class="fas fa-wind"></i> Wind</div>
                </div>
                <div class="col box">
                        <span id="max">5</span>째C <div><i class="fas fa-thermometer-three-quarters"></i> Max Temp</div>
                </div>
                <div class="col box">
                       <span id="min">0</span>째C<div><i class="fas fa-thermometer-quarter"></i>
                          Min. Temp</div>
                </div>
                        </div>
                    </div>
            </div>
        </div>
        <hr>
        <div class="row weather-forecast" id="forecast">
      </div>
    </div>
    <small> 
        <p>
        <a href="https://github.com/Fionnuala12/weather-app-final-project">Open-source code</a> by Fionnuala Wilson
        </p>
    </small>
    </div>


    <script>
        function getLocation() {
            if(navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((position) => {
                    const latitude = position.coords.latitude;
                    const longitude = position.coords.longitude;

                    fetch(`/geolocation?latitude=${latitude}&longitude=${longitude}`, {
                        method: 'GET'
                    })
                    .then(response => response.json()) // Convert raw response to JSON
                    .then(data => console.log("Weather:", data)) // Work with the parsed data
                    .catch(error => console.log("Error:", error)); // Handle errors
                }); 
            } else {
                console.log("Geolocation not supported");
            }
        }

        getLocation();

    </script>
</body>
</html>


